<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <title>Simple Form</title>
</head>
<body>
    <h1>Simple Form</h1>
    <form>
        Enter your text:<br>
        <input type="text" id="textField" name="textField"><br>
        <input type="button" onclick="submit_data()" value="Send">
    </form>

<script>
<!--v1-->
window.Telegram.WebApp.enableClosingConfirmation()


let url = window.location.href;
let searchParams = new URLSearchParams(window.location.search);
let encodedData = searchParams.get("data");
let decodedData = JSON.parse(decodeURIComponent(encodedData));
console.log(decodedData);
let decodedDataString = JSON.stringify(decodedData);
console.log(decodedDataString);
document.getElementById('textField').value = decodedDataString;


<!--    const queryString = window.location.search;-->
<!--    const urlParams = new URLSearchParams(queryString);-->
<!--    const incom_data = urlParams.get('data');-->
<!--     const tmp = urlParams.get('show_save');-->
<!--    document.getElementById('textField').value = incom_data + '_' + tmp-->



function submit_data() {
    tfv = document.getElementById('textField').value;
    const data = JSON.stringify({data: tfv});
    Telegram.WebApp.sendData(data);
    Telegram.WebApp.close();
}

</script>
</body>
</html>